<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Склад — Google Sheets</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:Arial;background:#f4f6f8}
.container{max-width:900px;margin:30px auto;background:#fff;padding:20px;border-radius:10px}
h2{text-align:center}
select{padding:8px;width:100%;margin-bottom:15px}
table{width:100%;border-collapse:collapse}
th,td{border:1px solid #ddd;padding:8px;text-align:left}
th{background:#0a7cff;color:#fff}
</style>
</head>
<body>

<div class="container">
<h2>Учёт склада</h2>

<select id="warehouseSelect"></select>

<table id="table">
<tr><td>Загрузка...</td></tr>
</table>
</div>

<script>
const API_URL = "ВСТАВЬ_URL_APPS_SCRIPT";

let data = [];

async function loadData(){
  const res = await fetch(API_URL);
  data = await res.json();
  initWarehouses();
}

function initWarehouses(){
  const select = document.getElementById("warehouseSelect");
  const warehouses = [...new Set(data.map(d=>d.Склад))];
  select.innerHTML = warehouses.map(w=>`<option>${w}</option>`).join("");
  select.onchange = render;
  render();
}

function render(){
  const w = warehouseSelect.value;
  const rows = data.filter(d=>d.Склад===w);

  let html = `<tr>
    <th>Номенклатура</th>
    <th>Количество</th>
  </tr>`;

  rows.forEach(r=>{
    html += `<tr>
      <td>${r.Номенклатура}</td>
      <td>${r.Количество}</td>
    </tr>`;
  });

  table.innerHTML = html;
}

loadData();
</script>

</body>
</html>
